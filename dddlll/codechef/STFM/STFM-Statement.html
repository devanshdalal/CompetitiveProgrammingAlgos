<div id="node-7527075" class="node clear-block"> 
 <div class="meta"> 
 </div> 
 <div class="content"> 
  <h3>All submissions for this problem are available.</h3>
  <h3> Read problems statements in <a target="_blank" href="http://www.codechef.com/download/translated/FEB15/mandarin/STFM.pdf">Mandarin Chinese </a> and <a target="_blank" href="http://www.codechef.com/download/translated/FEB15/russian/STFM.pdf">Russian</a>.</h3> 
  <p>For positive integer <b>x</b> let define function <b>F(x) = 1 * (1! + x) + 2 * (2! + x) + .. + x * (x! + x)</b>. </p> 
  <p><b>"k!"</b> means factorial: <b>k! = 1 * 2 * .. * k</b> </p> 
  <p>Chef wants to calculate <b>F(p<sub>1</sub>) + F(p<sub>2</sub>) + ... + F(p<sub>n</sub>)</b>. </p> 
  <p>As answer could be large, help him, calculate value modulo <b>m</b>. </p> 
  <h3>Input</h3> 
  <li>First line contains two integers <b>n</b> and <b>m</b>.</li> 
  <li>Next line contains <b>n</b> space separated integers <b>p<sub>i</sub></b>.</li> 
  <h3>Output</h3> 
  <li>Output a single line containing one integer --- calculated value modulo <b>m</b>.</li> 
  <h3>Constraints</h3> 
  <ul> 
   <li><b>1</b> ≤ <b>n<sub></sub></b> ≤ <b> 10<sup>5</sup> </b></li> 
   <li><b>1</b> ≤ <b><b>p<sub>i</sub></b></b> ≤ <b> 10<sup>18</sup> </b></li> 
   <li><b>1</b> ≤ <b>m</b> ≤ <b> 10<sup>7</sup> </b></li> 
  </ul> 
  <h3> Subtasks </h3> 
  <ul> 
   <li>Subtask #1: <b>1</b> ≤ <b><b>p<sub>i</sub></b></b> ≤ <b> 6 </b> (10 points)</li> 
   <li>Subtask #2: <b>1</b> ≤ <b><b>p<sub>i</sub></b></b> ≤ <b> 7 * 10<sup>3</sup> </b> (25 points)</li> 
   <li>Subtask #3: <b>m<sub></sub><sup></sup></b> - prime number (25 points)</li> 
   <li>Subtask #4: <sub></sub><sup></sup>original constraints (40 points)</li> 
  </ul> 
  <h3>Example</h3> 
  <pre><b>Input:</b>
5 7
1 2 3 4 5

<b>Output:</b>
6

<h3>Explanation</h3>
<li>F(1) = 1 * (1! + 1) = 2</li>
<li>F(2) = 1 * (1! + 2) + 2 * (2! + 2) = 3 + 8 = 11</li>
<li>F(3) = 1 * (1! + 3) + 2 * (2! + 3) + 3 * (3! + 3) = 4 + 10 + 27 = 41</li>
<li>F(4) = 1 * (1! + 4) + 2 * (2! + 4) + 3 * (3! + 4) + 4 * (4! + 4) = 5 + 12 + 30 + 112 = 159</li>
<li>F(5) = 1 * (1! + 5) + 2 * (2! + 5) + 3 * (3! + 5) + 4 * (4! + 5) + 5 * (5! + 5) = 794</li>
F(1) + F(2) + F(3) + F(4) + F(5) = 2 + 11 + 41 + 159 + 794 = 1007 

1007 modulo 7 = 6
</pre> 
 </div> 
 <hr> 
 <table cellspacing="0" cellpadding="0" align="left"> 
  <tbody>
   <tr> 
    <td width="14%">Author:</td> 
    <td><a href="/users/antoniuk1">antoniuk1</a></td> 
   </tr> 
   <tr> 
    <td width="14%">Tester:</td> 
    <td><a href="/users/shangjingbo">shangjingbo</a></td> 
   </tr> 
   <tr> 
    <td width="14%">Editorial</td> 
    <td><a href="http://discuss.codechef.com/problems/STFM">http://discuss.codechef.com/problems/STFM</a></td> 
   </tr> 
   <tr> 
    <td width="14%">Tags</td> 
    <td><a class="problem-tag-small " href="/tags/problems/antoniuk1"> antoniuk1 </a><a class="problem-tag-small " href="/tags/problems/easy"> easy </a><a class="problem-tag-small " href="/tags/problems/feb15"> feb15 </a><a class="problem-tag-small " href="/tags/problems/math"> math </a></td> 
   </tr> 
   <tr> 
    <td width="14%">Date Added:</td> 
    <td>15-08-2014</td> 
   </tr> 
   <tr> 
    <td width="14%">Time Limit:</td> 
    <td>1 sec</td> 
   </tr> 
   <tr> 
    <td width="14%">Source Limit:</td> 
    <td>50000 Bytes</td> 
   </tr> 
   <tr> 
    <td width="14%">Languages:</td> 
    <td>ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYTH, PYTH 3.1.2, RUBY, SCALA, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC</td> 
   </tr> 
  </tbody>
 </table> 
 <p style="clear:left;"><br></p> 
 <ul class="button-list button-list-left"> 
  <li style="display:"><a href="/submit/STFM">Submit</a></li> 
 </ul> 
 <hr> 
 <h2 style="text-decoration: none;">Comments</h2> 
 <ul class="links inline">
  <li class="comment_forbidden first last"><span><i><strong>Please login at the top to post a comment.</strong></i><p></p></span></li> 
 </ul>
</div> 
<div id="comments"> 
 <a id="comment-96960"></a> 
 <div id="c96960" class="comment clear-block"> 
  <h3><a href="/problems/STFM#comment-96960" class="active">Thanx @antoniuk1</a></h3> 
  <div class="submitted"> 
   <strong><a href="/users/piyush asutkar">piyush asutkar</a></strong>
   <span style="color:#828282"> @ 16 Feb 2015 07:24 PM</span> 
  </div> 
  <div class="content"> 
   <div class="comment-body">
    Thanx @antoniuk1 @shangjingbo Learned to take care that multiplication and modulo have equal precedence!
   </div> 
   <div class="comment-moderation-links"></div> 
  </div> 
 </div> 
 <a id="comment-96991"></a> 
 <div id="c96991" class="comment clear-block"> 
  <h3><a href="/problems/STFM#comment-96991" class="active">#include #include void</a></h3> 
  <div class="submitted"> 
   <strong><a href="/users/nmn161">nmn161</a></strong>
   <span style="color:#828282"> @ 17 Feb 2015 02:11 PM</span> 
  </div> 
  <div class="content"> 
   <div class="comment-body">
    #include #include void main() { int n,m,p[100],y[100],i,j,res; int factorial(int x); res=0; clrscr(); printf("nenter number for calculating modulus of f(x) it should be prime"); scanf("%d",&amp;m); printf("n enter number value for you want to calculate f(x)"); scanf("%d",&amp;n); printf("n enter valuesn"); for(i=1;i&lt;=n;i++) scanf("%d",&amp;p[i]); clrscr(); for(i=1;i&lt;=n;i++) { y[i]=0; for(j=1;j&lt;=p[i];j++) { y[i]+=j*(factorial(j)+p[i]); } res+=y[i]; } printf("n result:%dt",(res%m)); getch(); } factorial (int x) { int fac=1,i; for(i=1;i&lt;=x;i++) fac*=i; return(fac); } here is my solution but during submission code is showing error but it is prefectly please help me.....
   </div> 
   <div class="comment-moderation-links"></div> 
  </div> 
 </div> 
 <a id="comment-97606"></a> 
 <div id="c97606" class="comment clear-block"> 
  <h3><a href="/problems/STFM#comment-97606" class="active">'runtime error sigsegv' is</a></h3> 
  <div class="submitted"> 
   <strong><a href="/users/subhamoy">subhamoy</a></strong>
   <span style="color:#828282"> @ 26 Feb 2015 12:21 AM</span> 
  </div> 
  <div class="content"> 
   <div class="comment-body">
    'runtime error sigsegv' is occuring in my code,what is the error: #include int* array = 0; int fact(int a); void main() { int m,n,i,j,x,y=0,z,k; const size_t num_items = 10; array = malloc(sizeof(int) * num_items); scanf("%d%d",&amp;m,&amp;n); scanf("%d",&amp;array[m]); for(i=1;i&lt;=n;i++) { for(j=1;j&lt;=i;j++) { x=j*(fact(j)+i); } y=y+x; } z=y%n; printf("%d",z); } int fact(int a) { int b,c=1; for(b=a;b&gt;=1;b--) { c=c*b; } return(c); }
   </div> 
   <div class="comment-moderation-links"></div> 
  </div> 
 </div> 
 <a id="comment-98188"></a> 
 <div id="c98188" class="comment clear-block"> 
  <h3><a href="/problems/STFM#comment-98188" class="active">@nmn161 I would not want</a></h3> 
  <div class="submitted"> 
   <strong><a href="/users/adityaguru149">adityaguru149</a></strong>
   <span style="color:#828282"> @ 3 Mar 2015 09:55 AM</span> 
  </div> 
  <div class="content"> 
   <div class="comment-body">
    @nmn161 I would not want extra printfs in my code that the question has not asked. You should try w/o them. ex- enter the number Still having error means requires code review
   </div> 
   <div class="comment-moderation-links"></div> 
  </div> 
 </div> 
</div>