<div id="node-5377620" class="node clear-block"> 
 <div class="meta"> 
 </div> 
 <div class="content"> 
  <h3>All submissions for this problem are available.</h3>
  <h3> Read problems statements in <a target="_blank" href="http://www.codechef.com/download/translated/JUNE14/mandarin/MAXPR.pdf">Mandarin Chinese </a> and <a target="_blank" href="http://www.codechef.com/download/translated/JUNE14/russian/MAXPR.pdf">Russian</a>.</h3> 
  <p>Maxim likes arithmetic progressions and does not like sequences which are not arithmetic progressions.</p> 
  <p>Now he is interested in the question: how many subsequences of his sequence <b>a</b>, consisting of <b>n</b> elements, are not arithmetic progressions.</p> 
  <p>Sequence <b>s[1],  s[2],  ...,  s[k]</b> is called a subsequence of sequence <b>a[1],  a[2],  ...,  a[n]</b>, if there will be such increasing sequence of indices <b>i[1], i[2], ..., i[k] (1  ≤  i[1]  &lt;  i[2]  &lt; ...   &lt;  i[k]  ≤  n)</b>, that <b>a[i[j]]</b>  =  <b>s[j]</b>. In other words, sequence <b>s</b> can be obtained from the <b>a</b> by deleting some elements.</p> 
  <p>Sequence <b>s[1],  s[2],  ...,  s[k]</b> is called an arithmetic progression, if it can be represented as : </p> 
  <li><b>s[1]</b> = <b>p</b>, where <b>p</b> — some integer;</li> 
  <li><b>s[i]</b> = <b>p + (i - 1)·q (i &gt; 1)</b>, where <b>q</b> — some integer.</li> 
  <p>In particular, the empty sequence or a sequence of one element is an arithmetic progression. </p> 
  <p>&nbsp;</p> 
  <h3>Input</h3> 
  <p>The first line of the input contains an integer <b>T</b> denoting the number of test cases. The description of <b>T</b> test cases follows.&nbsp;</p> 
  <p>The first line of each test case contains an integer <b>n</b> — the number of elements in the sequence. The next line of the test case contains <b>n</b> integer, <b>a[1], a[2], ..., a[n]</b> — elements of the sequence. </p> 
  <h3>Output</h3> 
  <p>For each test case print the remainder of the division the answer on <b>1000000007 (10^9 + 7)</b>. All answers print on different lines.&nbsp;</p> 
  <h3>Constraints</h3> 
  <p>&nbsp;<b>1 ≤ T ≤ 10</b></p> 
  <p>&nbsp;1 ≤ n ≤ 200000</p> 
  <p>&nbsp;1 ≤ a[i] ≤ 100</p> 
  <p></p> 
  <h3>Example</h3> 
  <pre><b>Input:</b>
2
1
1
3
1 2 1

<b>Output:</b>
0
1

</pre>
  <p>&nbsp;</p> 
 </div> 
 <hr> 
 <table cellspacing="0" cellpadding="0" align="left"> 
  <tbody>
   <tr> 
    <td width="14%">Author:</td> 
    <td><a href="/users/sereja">sereja</a></td> 
   </tr> 
   <tr> 
    <td width="14%">Editorial</td> 
    <td><a href="http://discuss.codechef.com/problems/MAXPR">http://discuss.codechef.com/problems/MAXPR</a></td> 
   </tr> 
   <tr> 
    <td width="14%">Tags</td> 
    <td><a class="problem-tag-small " href="/tags/problems/combinatorics"> combinatorics </a><a class="problem-tag-small " href="/tags/problems/dp"> dp </a><a class="problem-tag-small " href="/tags/problems/easy"> easy </a><a class="problem-tag-small " href="/tags/problems/june14"> june14 </a><a class="problem-tag-small " href="/tags/problems/sereja"> sereja </a></td> 
   </tr> 
   <tr> 
    <td width="14%">Date Added:</td> 
    <td>25-05-2013</td> 
   </tr> 
   <tr> 
    <td width="14%">Time Limit:</td> 
    <td>2 sec</td> 
   </tr> 
   <tr> 
    <td width="14%">Source Limit:</td> 
    <td>50000 Bytes</td> 
   </tr> 
   <tr> 
    <td width="14%">Languages:</td> 
    <td>ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYTH, PYTH 3.1.2, RUBY, SCALA, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC</td> 
   </tr> 
  </tbody>
 </table> 
 <p style="clear:left;"><br></p> 
 <ul class="button-list button-list-left"> 
  <li style="display:"><a href="/submit/MAXPR">Submit</a></li> 
 </ul> 
 <hr> 
 <h2 style="text-decoration: none;">Comments</h2> 
 <ul class="links inline">
  <li class="comment_forbidden first last"><span><i><strong>Please login at the top to post a comment.</strong></i><p></p></span></li> 
 </ul>
</div> 
<div id="comments"> 
 <a id="comment-79703"></a> 
 <div id="c79703" class="comment clear-block"> 
  <h3><a href="/problems/MAXPR#comment-79703" class="active">Can someone post some more</a></h3> 
  <div class="submitted"> 
   <strong><a href="/users/kaushikggg">kaushikggg</a></strong>
   <span style="color:#828282"> @ 18 Jun 2014 07:53 PM</span> 
  </div> 
  <div class="content"> 
   <div class="comment-body">
    Can someone post some more sample input and outputs .
   </div> 
   <div class="comment-moderation-links"></div> 
  </div> 
 </div> 
 <a id="comment-79723"></a> 
 <div id="c79723" class="comment clear-block"> 
  <h3><a href="/problems/MAXPR#comment-79723" class="active">For each test case print the</a></h3> 
  <div class="submitted"> 
   <strong><a href="/users/shaho66">shaho66</a></strong>
   <span style="color:#828282"> @ 19 Jun 2014 04:15 PM</span> 
  </div> 
  <div class="content"> 
   <div class="comment-body">
    For each test case print the remainder of the division the answer on 1000000007 (10^9 + 7). I don't know what is say! please help me
   </div> 
   <div class="comment-moderation-links"></div> 
  </div> 
 </div> 
 <a id="comment-79735"></a> 
 <div id="c79735" class="comment clear-block"> 
  <h3><a href="/problems/MAXPR#comment-79735" class="active">@shaho66...the answer to some</a></h3> 
  <div class="submitted"> 
   <strong><a href="/users/saraguru">saraguru</a></strong>
   <span style="color:#828282"> @ 20 Jun 2014 11:17 AM</span> 
  </div> 
  <div class="content"> 
   <div class="comment-body">
    @shaho66...the answer to some of the test cases might be very very large..so when you are computing your answer in your code you actually do the % operation...this is to ensure that the answer always lies between 10^9+6..hope this helps
   </div> 
   <div class="comment-moderation-links"></div> 
  </div> 
 </div> 
 <a id="comment-79736"></a> 
 <div id="c79736" class="comment clear-block"> 
  <h3><a href="/problems/MAXPR#comment-79736" class="active">a small correction...always</a></h3> 
  <div class="submitted"> 
   <strong><a href="/users/saraguru">saraguru</a></strong>
   <span style="color:#828282"> @ 20 Jun 2014 11:18 AM</span> 
  </div> 
  <div class="content"> 
   <div class="comment-body">
    a small correction...always lies between 0 &amp; 10^9+6
   </div> 
   <div class="comment-moderation-links"></div> 
  </div> 
 </div> 
 <a id="comment-96986"></a> 
 <div id="c96986" class="comment clear-block"> 
  <h3><a href="/problems/MAXPR#comment-96986" class="active">can somebody tell me where i</a></h3> 
  <div class="submitted"> 
   <strong><a href="/users/piya210">piya210</a></strong>
   <span style="color:#828282"> @ 17 Feb 2015 03:43 AM</span> 
  </div> 
  <div class="content"> 
   <div class="comment-body">
    can somebody tell me where i am getting WA #include #define ll long long #define mod 1000000007 using namespace std; ll a[200001],dp[200001]; ll fastexp(ll x, ll y){ll a=1;while(y&gt;0){if(y&amp;1)a=(a*x)%mod;y=y&gt;&gt;1;x=(x*x)%mod;}return a;} int main() { ios_base::sync_with_stdio(false); int t,i,j; ll cur,res,n; cin&gt;&gt;t; while(t--) { cin&gt;&gt;n; for(i=0;i&gt;a[i]; } res=0; for(i= -99;i&lt;=99;i++) { ll sum[101]={0}; dp[0]=1; sum[a[0]]=1; cur=1; for(j=1;j=1 &amp;&amp; (a[j]-i)&lt;=100) {dp[j] = (sum[a[j]-i]+1); if(dp[j]&gt;=mod)dp[j]%=mod;} else dp[j]=1; sum[a[j]] = (sum[a[j]] + dp[j]); if(sum[a[j]]&gt;=mod)sum[a[j]]%=mod; cur = (cur + dp[j]); if(cur&gt;=mod)cur%=mod; } res = (res + cur); if(res&gt;=mod)res%=mod; res = (res - n); } res = (res + n); if(res&gt;=mod)res%=mod; res = (fastexp(2,n)-1-res); cout&lt;
   </div> 
   <div class="comment-moderation-links"></div> 
  </div> 
 </div> 
</div>