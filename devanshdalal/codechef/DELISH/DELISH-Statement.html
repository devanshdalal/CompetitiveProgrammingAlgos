<div id="node-2553499" class="node clear-block"> 
 <div class="meta"> 
 </div> 
 <div class="content"> 
  <h3>All submissions for this problem are available.</h3> 
  <p>It's finally summer in Chefland! So our chef is looking forward to prepare some of the best "beat-the-heat" dishes to attract more customers. He summons the Wizard of Dessert to help him with one such dish.</p> 
  <p> The wizard provides the chef with a sequence of <b>N</b> ingredients where the <b>i<sup>th</sup></b> ingredient has a delish value of <b>D[i]</b>. The preparation of the dish takes place in two phases. <br><br><br><br></p> 
  <p><b>Phase 1 :</b> The chef chooses two indices <b>i</b> and <b>j</b> and adds the ingredients <b>i, i+1, ..., j</b> to his dish. He also finds the sum of the delish value in this range i.e <b>D[i] + D[i+1] + ... + D[j]</b>. <br><br> <br><br></p> 
  <p><b>Phase 2 :</b> The chef chooses two more indices <b>k</b> and <b>l</b> and adds the ingredients <b>k, k+1, ..., l</b> to his dish. He also finds the sum of the delish value in this range i.e <b>D[k] + D[k+1] + ... + D[l]</b>. <br> <br><br> Note that <b>1</b> ≤ <b>i</b> ≤ <b>j</b> &lt; <b>k</b> ≤ <b>l</b> ≤ <b>N</b>. <br><br><br><br><br><br></p> 
  <p>The total delish value of the dish is determined by the absolute difference between the values obtained in the two phases. Obviously, the chef wants to maximize the total delish value for his dish. So, he hires you to help him. </p> 
  <h3>Input</h3> 
  <p>First line of input contains an integer <b>T</b> denoting the number of test cases. For each test case, the first line contains an integer <b>N</b> denoting the number of ingredients. The next line contains <b>N</b> space separated integers where the <b>i<sup>th</sup></b> integer represents the delish value <b>D[i]</b> of the <b>i<sup>th</sup></b> ingredient.</p> 
  <h3>Output</h3> 
  <p>Print the maximum delish value of the dish that the chef can get.</p> 
  <h3>Constraints</h3> 
  <ul> 
   <li> <b>1</b> ≤ <b>T</b> ≤ <b>50</b> </li> 
   <li> <b>2</b> ≤ <b>N</b> ≤ <b>10000</b> </li> 
   <li> <b>-1000000000 (−10<sup>9</sup>)</b> ≤ <b>D[i]</b> ≤ <b>1000000000 (10<sup>9</sup>)</b> </li> 
  </ul> 
  <h3>Example</h3> 
  <pre><b>Input:</b>
2
5
1 2 3 4 5
4
1 1 -1 -1

<b>Output:</b>
13
4
</pre>
  <h3>Explanation</h3> 
  <p><b>Example case 1.</b><br><br> Chef can choose <b>i = j = 1, k = 2, l = 5</b>.<br><br> The delish value hence obtained is <b> | (2+3+4+5) − (1) | = 13 </b>.<br> <br><br></p> 
  <p><b>Example case 2.</b><br><br> Chef can choose <b>i = 1, j = 2, k = 3, l = 4</b>.<br><br> The delish value hence obtained is <b> | ( ( −1 ) + ( −1 ) ) − ( 1 + 1 ) | = 4 </b>.<br><br></p> 
 </div> 
 <hr> 
 <table cellspacing="0" cellpadding="0" align="left"> 
  <tbody>
   <tr> 
    <td width="14%">Author:</td> 
    <td><a href="/users/viv001">viv001</a></td> 
   </tr> 
   <tr> 
    <td width="14%">Tester:</td> 
    <td><a href="/users/tuananh93">tuananh93</a></td> 
   </tr> 
   <tr> 
    <td width="14%">Editorial</td> 
    <td><a href="http://discuss.codechef.com/problems/DELISH">http://discuss.codechef.com/problems/DELISH</a></td> 
   </tr> 
   <tr> 
    <td width="14%">Tags</td> 
    <td><a class="problem-tag-small " href="/tags/problems/dynamic-prog"> dynamic-prog </a><a class="problem-tag-small " href="/tags/problems/june13"> june13 </a><a class="problem-tag-small " href="/tags/problems/simple"> simple </a><a class="problem-tag-small " href="/tags/problems/viv001"> viv001 </a></td> 
   </tr> 
   <tr> 
    <td width="14%">Date Added:</td> 
    <td>30-03-2013</td> 
   </tr> 
   <tr> 
    <td width="14%">Time Limit:</td> 
    <td>1 sec</td> 
   </tr> 
   <tr> 
    <td width="14%">Source Limit:</td> 
    <td>50000 Bytes</td> 
   </tr> 
   <tr> 
    <td width="14%">Languages:</td> 
    <td>ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYTH, PYTH 3.1.2, RUBY, SCALA, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC</td> 
   </tr> 
  </tbody>
 </table> 
 <p style="clear:left;"><br></p> 
 <ul class="button-list button-list-left"> 
  <li style="display:"><a href="/submit/DELISH">Submit</a></li> 
 </ul> 
 <hr> 
 <h2 style="text-decoration: none;">Comments</h2> 
 <ul class="links inline">
  <li class="comment_forbidden first last"><span><i><strong>Please login at the top to post a comment.</strong></i><p></p></span></li> 
 </ul>
</div> 
<div id="comments"> 
 <a id="comment-46172"></a> 
 <div id="c46172" class="comment clear-block"> 
  <h3><a href="/problems/DELISH#comment-46172" class="active">I have used the same approach</a></h3> 
  <div class="submitted"> 
   <strong><a href="/users/daddycoder">daddycoder</a></strong>
   <span style="color:#828282"> @ 17 Jun 2013 03:50 PM</span> 
  </div> 
  <div class="content"> 
   <div class="comment-body">
    I have used the same approach as many other ACs(the ones in Java too). Why TLE? Submission : 
    <a href="http://www.codechef.com/viewsolution/2276466" title="http://www.codechef.com/viewsolution/2276466">http://www.codechef.com/viewsolution/2276466</a>
   </div> 
   <div class="comment-moderation-links"></div> 
  </div> 
 </div> 
 <a id="comment-46176"></a> 
 <div id="c46176" class="comment clear-block"> 
  <h3><a href="/problems/DELISH#comment-46176" class="active">Let j....i be the indices ,</a></h3> 
  <div class="submitted"> 
   <strong><a href="/users/sumanth232">sumanth232</a></strong>
   <span style="color:#828282"> @ 17 Jun 2013 05:17 PM</span> 
  </div> 
  <div class="content"> 
   <div class="comment-body">
    Let j....i be the indices , where u get the max sum . let sum(i) = a[0] + a[1] + ... + a[i]. The sum = sum(i) - sum(j-1) .Your aim is to maximize sum(i) and minimize sum(j-1) . So, in one traversal u can just find the maximum sum(i) and minimum sum(j-1) , ofcourse with the conditions 0 &lt;= j &lt;= i &lt;= n-1 . through this approach, u dont need to worry about the limitations of Kadanes algorithm
   </div> 
   <div class="comment-moderation-links"></div> 
  </div> 
 </div> 
 <a id="comment-46206"></a> 
 <div id="c46206" class="comment clear-block"> 
  <h3><a href="/problems/DELISH#comment-46206" class="active">Why won't we consider</a></h3> 
  <div class="submitted"> 
   <strong><a href="/users/daddycoder">daddycoder</a></strong>
   <span style="color:#828282"> @ 17 Jun 2013 11:03 PM</span> 
  </div> 
  <div class="content"> 
   <div class="comment-body">
    Why won't we consider minimizing sum(i) and maximizing sum(j-1), that would also yield certain sum that might be greater than other sums. And that requires another traversal. Is the approach what you suggest exhaustive for this problem. How? The limitations of kadane(of negative numbers) is already taken into account.
   </div> 
   <div class="comment-moderation-links"></div> 
  </div> 
 </div> 
 <a id="comment-46207"></a> 
 <div id="c46207" class="comment clear-block"> 
  <h3><a href="/problems/DELISH#comment-46207" class="active">Here's a solution that got a</a></h3> 
  <div class="submitted"> 
   <strong><a href="/users/daddycoder">daddycoder</a></strong>
   <span style="color:#828282"> @ 17 Jun 2013 11:06 PM</span> 
  </div> 
  <div class="content"> 
   <div class="comment-body">
    Here's a solution that got a green mark which follows the same idea. 
    <a href="http://www.codechef.com/viewsolution/2233152" title="http://www.codechef.com/viewsolution/2233152">http://www.codechef.com/viewsolution/2233152</a>
   </div> 
   <div class="comment-moderation-links"></div> 
  </div> 
 </div> 
 <a id="comment-46268"></a> 
 <div id="c46268" class="comment clear-block"> 
  <h3><a href="/problems/DELISH#comment-46268" class="active">http://www.codechef.com/views</a></h3> 
  <div class="submitted"> 
   <strong><a href="/users/fu_k9">fu_k9</a></strong>
   <span style="color:#828282"> @ 18 Jun 2013 03:01 PM</span> 
  </div> 
  <div class="content"> 
   <div class="comment-body">
    <a href="http://www.codechef.com/viewsolution/2278153" title="http://www.codechef.com/viewsolution/2278153">http://www.codechef.com/viewsolution/2278153</a> i have tested my code against 50 test cases with delish value of order 10^9 and 10^-9..i got 12 millisecond running time..but m still getting TLE..please help ..
   </div> 
   <div class="comment-moderation-links"></div> 
  </div> 
 </div> 
 <a id="comment-96944"></a> 
 <div id="c96944" class="comment clear-block"> 
  <h3><a href="/problems/DELISH#comment-96944" class="active">Don't use a regular int...</a></h3> 
  <div class="submitted"> 
   <strong><a href="/users/rehpotsirhc">rehpotsirhc</a></strong>
   <span style="color:#828282"> @ 16 Feb 2015 07:12 AM</span> 
  </div> 
  <div class="content"> 
   <div class="comment-body">
    Don't use a regular int... use long
   </div> 
   <div class="comment-moderation-links"></div> 
  </div> 
 </div> 
</div>